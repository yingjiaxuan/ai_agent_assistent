# AI Agent Life Assistant Web App

# AI Life Assistant Agent 核心功能说明

本项目面向在日留学生/务工人员，AI Agent 生活助手的核心功能如下：

---

## 1. 日程与待办事项智能总结与提醒生成
- **功能说明**：
  - 从数据库提取用户的日程和待办事项。
  - 利用Prompt让大模型对事项进行归纳、优先级排序，生成个性化提醒建议。
- **数据流**：
  - 输入：用户的日程/待办事项（结构化数据）。
  - 处理：Prompt调用大模型，生成总结和提醒建议。
  - 输出：自然语言的提醒摘要。
- **建议Prompt**：

```
你是一个生活助理，请根据以下日程和待办事项，帮我总结出今天/本周最重要的事项，并按优先级排序，给出简明的提醒建议。
日程和待办事项如下：
{事项列表}
请输出格式：
1. 事项A（优先级：高）- 简要说明
2. 事项B（优先级：中）- 简要说明
```

---

## 2. 问答助手（含传图）
- **功能说明**：
  - 用户输入问题（文本/图片），AI Agent通过API（如OpenAI GPT-4o）进行智能问答。
  - 支持图片输入，调用支持多模态的API。
- **数据流**：
  - 输入：用户问题（文本/图片）。
  - 处理：API调用，返回答案。
  - 输出：AI生成的答案。
- **建议Prompt**：

```
你是一个智能问答助手，请根据用户的问题，给出准确、简明的回答。
问题：{用户输入}
（如有图片，附上图片内容说明）
```

---

## 3. 问答助手的记忆体总结功能
- **功能说明**：
  - 定期/手动对用户与AI的对话历史进行总结，生成记忆摘要。
  - 支持二次总结（对多条摘要再做归纳）。
  - 用户可手动修订摘要，并可选择让大模型润色。
- **数据流**：
  - 输入：对话历史（文本）。
  - 处理：Prompt调用大模型，生成摘要。
  - 输出：记忆摘要，存储于memory_summaries表和yaml。
- **建议Prompt**：

```
你是用户的个人助理，请根据以下对话历史，提炼出用户近期的主要关注点、兴趣、困惑和行动计划，生成一份简明的记忆摘要。
对话历史如下：
{对话内容}
请输出格式：
- 主要关注点：
- 兴趣爱好：
- 近期困惑：
- 行动计划：
```

**二次总结Prompt**：

```
请将以下多条记忆摘要进一步归纳，去除重复，提炼出最具代表性的内容，生成一份新的记忆摘要。
记忆摘要列表：
{摘要列表}
```

---

## 4. 本地服务推荐
- **功能说明**：
  - 获取本地服务信息（如节日、活动、旅行推荐等）。
  - 利用Prompt让大模型结合用户画像、节假日、兴趣等生成个性化推荐。
  - 可结合联网搜索（如OpenAI的function calling或联网插件）。
- **数据流**：
  - 输入：用户画像、节日/活动信息、本地服务API返回内容。
  - 处理：Prompt调用大模型，生成推荐。
  - 输出：个性化推荐内容。
- **建议Prompt**：

```
你是一个生活服务推荐助手，用户目前居住在{城市}，国籍为{国籍}，兴趣有{兴趣列表}。
结合本地即将到来的节日/活动（如{节日/活动列表}），请为用户生成一份生活建议和旅行推荐，内容要结合用户的兴趣和节假日安排。
如有最新的本地服务或活动信息，也请一并推荐。
```

---

## 5. 其它说明
- 所有智能功能均通过Prompt调用大模型（如GPT-4o、Claude、DeepSeek等）。
- 冷数据（用户画像）和热数据（对话、记忆、提醒等）分层存储，详见memory和data目录。
- 具体实现可参考本目录下各模块代码。

## 6. 推荐开发顺序

- 命令行原型开发（优先验证核心功能）：
    - 用户注册/登录，冷数据录入与展示。
    - 对话历史录入（模拟/真实）。
    - 定期/手动生成记忆摘要（prompt 调用大模型，mock 或实际 API）。
    - 记忆摘要的手动编辑与润色。
    - 新对话时，自动拼接用户画像和记忆摘要作为 prompt 上下文。
- 完善数据结构：
    - 冷热数据字段补充与优化。
    - mock 数据与实际数据一致性校验。
- UI 开发（如 Streamlit）：
    - 迁移命令行功能到 Web UI。
    - 丰富交互体验。
- 本地服务推荐等扩展功能。
